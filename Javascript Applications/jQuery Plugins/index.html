<html>
<head>
	<title></title>
	<script type="text/javascript" src="jQuery-1.10.1.js"></script>
</head>
<body>
	<ul id="treeView">
		<li>
			<a href="#">Item1</a>
		</li>
		<li>
			<a href="#">Item1</a>
		</li>
		<li>
			<a href="#">Item3</a>
			<ul>
				<li>
					<a href="#">SubItem1</a>
				</li>
				<li>
					<a href="#">SubItem2</a>
					<ul>
						<li>
							<a href="#">Sub</a>
						</li>
						<li>
							<a href="#">Sub</a>
						</li>
						<li>
							<a href="#">Sub</a>
						</li>
						<li>
							<a href="#">Sub</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="#">SubItem1</a>
				</li>
				<li>
					<a href="#">SubItem1</a>
				</li>
			</ul>
		</li>
		<li>
			<a href="#">Item1</a>
		</li>
	</ul>
	<script type="text/javascript">
		(function($){
			$.fn.treeView = function() {
				console.log(this);
				$(this.selector + " a").on("click",function(){
					$(this).next("ul").toggle();
				})

				return this;
			};
		}(jQuery));
		
		$("ul").hide();
		$("#treeView").treeView().show();
	</script>
</body>
</html>